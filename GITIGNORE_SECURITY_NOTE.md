# .gitignore å®‰å…¨æ›´æ–°è¯´æ˜

## ğŸ”’ é‡è¦çš„å®‰å…¨æ›´æ–°

æˆ‘å·²ç»æ›´æ–°äº† `.gitignore` æ–‡ä»¶ï¼Œæ·»åŠ äº†ä¸ GitHub Releases è‡ªåŠ¨æ›´æ–°ç›¸å…³çš„é‡è¦å¿½ç•¥è§„åˆ™ã€‚

### ğŸš¨ å…³é”®å®‰å…¨è§„åˆ™

#### 1. ç­¾åå¯†é’¥æ–‡ä»¶ï¼ˆç»å¯¹ä¸èƒ½æäº¤ï¼ï¼‰
```gitignore
# Auto-update and signing keys - CRITICAL: Never commit these!
*.key
*.key.pub
.tauri/
~/.tauri/
**/*.key
**/*.key.pub
```

**ä¸ºä»€ä¹ˆé‡è¦ï¼š**
- ç§é’¥ (`.key`) æ³„éœ²ä¼šè®©æ”»å‡»è€…èƒ½å¤Ÿç­¾åæ¶æ„æ›´æ–°åŒ…
- å³ä½¿æ˜¯å…¬é’¥ä¹Ÿä¸åº”è¯¥åœ¨å¤šä¸ªåœ°æ–¹å­˜å‚¨
- ç­¾åå¯†é’¥åº”è¯¥åªå­˜åœ¨äºæœ¬åœ°å’Œ GitHub Secrets ä¸­

#### 2. ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶
```gitignore
# Environment variables and secrets
.env
.env.local
.env.development.local
.env.test.local
.env.production.local
*.env
```

**ä¸ºä»€ä¹ˆé‡è¦ï¼š**
- å¯èƒ½åŒ…å« API å¯†é’¥ã€æ•°æ®åº“è¿æ¥ä¿¡æ¯ç­‰æ•æ„Ÿæ•°æ®
- æœ¬åœ°å¼€å‘é…ç½®ä¸åº”è¯¥å½±å“å…¶ä»–å¼€å‘è€…

#### 3. æ„å»ºäº§ç‰©å’Œå®‰è£…åŒ…
```gitignore
# Release and build artifacts
*.dmg
*.app
*.msi
*.exe
*.deb
*.rpm
*.appimage
*.AppImage
```

**ä¸ºä»€ä¹ˆé‡è¦ï¼š**
- è¿™äº›æ–‡ä»¶é€šå¸¸å¾ˆå¤§ï¼Œä¸é€‚åˆå­˜å‚¨åœ¨ Git ä¸­
- åº”è¯¥é€šè¿‡ GitHub Releases åˆ†å‘ï¼Œè€Œä¸æ˜¯ä»£ç åº“
- é¿å…ä»“åº“ä½“ç§¯è¿‡å¤§

#### 4. Tauri æ„å»ºç›®å½•
```gitignore
# Tauri related
src-tauri/target
src-tauri/gen
```

**ä¸ºä»€ä¹ˆé‡è¦ï¼š**
- `target` ç›®å½•åŒ…å« Rust ç¼–è¯‘ç¼“å­˜ï¼Œå¯èƒ½éå¸¸å¤§
- `gen` ç›®å½•åŒ…å«ç”Ÿæˆçš„ä»£ç ï¼Œä¼šè‡ªåŠ¨é‡æ–°ç”Ÿæˆ

### âœ… éªŒè¯å®‰å…¨æ€§

æ£€æŸ¥ä½ çš„é¡¹ç›®æ˜¯å¦å®‰å…¨ï¼š

```bash
# æ£€æŸ¥æ˜¯å¦æ„å¤–æäº¤äº†æ•æ„Ÿæ–‡ä»¶
git log --all --full-history -- "*.key"
git log --all --full-history -- "*.env"

# æ£€æŸ¥å½“å‰çŠ¶æ€
git status --ignored
```

### ğŸ”§ å¦‚æœå·²ç»æ„å¤–æäº¤äº†æ•æ„Ÿæ–‡ä»¶

å¦‚æœä½ ä¹‹å‰æ„å¤–æäº¤äº†ç­¾åå¯†é’¥æˆ–å…¶ä»–æ•æ„Ÿæ–‡ä»¶ï¼š

```bash
# ä»å†å²è®°å½•ä¸­å®Œå…¨åˆ é™¤æ–‡ä»¶ï¼ˆå±é™©æ“ä½œï¼ï¼‰
git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch *.key' --prune-empty --tag-name-filter cat -- --all

# æˆ–è€…ä½¿ç”¨ BFG Repo-Cleanerï¼ˆæ¨èï¼‰
# å®‰è£…ï¼šhttps://rtyley.github.io/bfg-repo-cleaner/
java -jar bfg.jar --delete-files *.key
git reflog expire --expire=now --all && git gc --prune=now --aggressive
```

**é‡è¦æé†’ï¼š** å¦‚æœå¯†é’¥å·²ç»è¢«æäº¤åˆ°å…¬å…±ä»“åº“ï¼Œä½ åº”è¯¥ï¼š
1. ç«‹å³é‡æ–°ç”Ÿæˆæ–°çš„å¯†é’¥å¯¹
2. æ›´æ–° GitHub Secrets
3. æ›´æ–° `tauri.conf.json` ä¸­çš„å…¬é’¥
4. è€ƒè™‘å°†ä»“åº“è®¾ä¸ºç§æœ‰ï¼Œç›´åˆ°æ¸…ç†å®Œæˆ

### ğŸ¯ æœ€ä½³å®è·µ

1. **æ°¸è¿œä¸è¦æäº¤å¯†é’¥æ–‡ä»¶**
2. **ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯**
3. **å®šæœŸæ£€æŸ¥ `.gitignore` æ˜¯å¦å·¥ä½œæ­£å¸¸**
4. **åœ¨è®¾ç½® CI/CD æ—¶ä½¿ç”¨ GitHub Secrets**
5. **ä¿æŒæ„å»ºäº§ç‰©åœ¨ .gitignore ä¸­**

### ğŸ“‹ æ£€æŸ¥æ¸…å•

- [ ] å¯†é’¥æ–‡ä»¶å·²æ·»åŠ åˆ° `.gitignore`
- [ ] ç¯å¢ƒå˜é‡æ–‡ä»¶å·²å¿½ç•¥
- [ ] æ„å»ºäº§ç‰©å·²å¿½ç•¥
- [ ] æ²¡æœ‰æ•æ„Ÿæ–‡ä»¶åœ¨ Git å†å²ä¸­
- [ ] GitHub Secrets å·²æ­£ç¡®è®¾ç½®
- [ ] å…¬é’¥å·²æ›´æ–°åˆ° `tauri.conf.json`

éµå¾ªè¿™äº›è§„åˆ™å¯ä»¥ç¡®ä¿ä½ çš„è‡ªåŠ¨æ›´æ–°ç³»ç»Ÿæ—¢å®‰å…¨åˆå¯é ï¼ğŸ›¡ï¸ 